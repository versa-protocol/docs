---
title: "Versa Link"
---

# Versa Link Integration Guide

Versa Link is the client-side component that your users will interact with in order to link their accounts to your app. It handles all aspects of the account linking experience.

![A screenshot of Versa Link on an example website.](https://raw.githubusercontent.com/versa-protocol/docs/main/assets/versa_link.png)

Versa Link is one method of customer registration, in which most of the work is handled via the embeddable widget. Alternatively, you are welcome to implement your own [customer registration](/customer_registration) via the Versa API.

> [!IMPORTANT]
> The only way to support OAuth-based connections (including Brex, QuickBooks, and Xero) is via Versa Link. The customer registration API does not support OAuth connections. Versa Link is the best way to ensure the broadest compatibility.

## Quick Start

You'll need to make an account at https://app.versa.org and issue yourself test credentials.

## Installation

Drop the script tag into your HTML to include the Versa Link widget. You'll need to configure your Content-Security-Policy to allow the `cdn.versa.org` source.
Since inline-script execution is required, you will also need to enable the `unsafe-inline` directive or use a nonce-based approach (see example below).

```html
<script src="https://cdn.versa.org/link/stable/versa-link.iife.js"></script>
```

### Script embedded with nonce

```html
<meta http-equiv="Content-Security-Policy" content="
  script-src 'self' 'nonce-rAnd0m123abc';
" />
<script nonce="rAnd0m123abc" src="https://cdn.versa.org/link/stable/versa-link.iife.js"></script>
```

## Generate a Link Token

Before you initialize Versa Link, use your server-side credentials to acquire a short-lived token to pass to the client (tokens expire after 10 minutes).
In production, you will need to create a secure endpoint on your server that generates this token and returns it to your client application on behalf of the logged-in customer.

```bash
curl -X POST https://registry.versa.org/link_token \
    -H "Authorization: Basic {CLIENT_ID}:{CLIENT_SECRET}" \
    -H "Content-Type: application/json" \
    -d '{
      "handles": {
        "customer_email_domain": "acme.co",
        "merchant_group_code": "CORPORATE_DISCOUNT_CODE_XYZ"
      }
    }'
```

This will return a response object including the following fields:

```json
{
  "token": "link_test_wnYq4f2YjWsvHq4ffI2FYydOMQjMmJVpadUFlBWd",
  "mode": "test",
  "expired": 1754020800
}
```

## Initialize Versa Link

Call `VersaLink.initialize()` to configure the widget with the token string provided in the response from the `/link_token` endpoint above.

```js
await VersaLink.initialize({
  linkToken: data.token,
  onSuccess: (result) => {
    // callback with the list of active connections for the provided customer handles
    console.log(
      "Versa Link success:",
      result.connections.map((org) => org.name).join(", ")
    );
  },
  onExit: () => {
    console.log("User exited Versa Link");
  },
});
```

## Launch the Widget

Once initialized, you can launch the Versa Link widget by calling the `open` method.

```js
VersaLink.open();
```

## Configuration and Theming

Link can be customized in a few different ways.

| Field           | Type              | Description                                                                                                                                     |
| --------------- | ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| `theme`         | `nullable object` | See [Theme](#theme) for the available options.                                                                                                  |
| `whitelistOrgs` | `nullable array`  | An explicit list of integrations to offer. If not provided, the default set of integrations will be offered.                                    |
| `language`      | `nullable string` | Language code for the widget UI (e.g., `en`, `es`, `fr`). Defaults to `en`. Controls the display language for all text in the widget interface. |

### Theme

If you would like to customize the appearance of the Versa Link widget, you can do so by passing an optional `theme` object to the `initialize` method. If there are additional theming customizations you would like to make, please reach out to the Versa team.

| Field      | Type   | Description                                                                                                                  |
| ---------- | ------ | ---------------------------------------------------------------------------------------------------------------------------- |
| `viewMode` | `enum` | One of `modal` or `inline`. Defaults to `modal`. See below for a comparison of the `modal` and `inline` themes. |

![A comparison of the 'modal' and 'inline' themes.](https://raw.githubusercontent.com/versa-protocol/docs/main/assets/link_viewmode.png)

> [!IMPORTANT]
> For the 'inline' view mode, you must include a container element in your HTML with the id `versa-canvas`. The Versa Link script will query for this element by id and render the widget inside. See example below:

```html
<body>
  <div id="versa-canvas">
    <!-- Versa Link widget will render inside this canvas -->
  </div>
  <script src="https://cdn.versa.org/link/stable/versa-link.iife.js"></script>
  <script>
    (async function initInline() {
      const response = await fetch("/api/link-token");
      await VersaLink.initialize({
        linkToken: data.token,
        theme: {
          viewMode: "inline"
        }
      });

      // Immediately open; widget will render into #versa-canvas
      VersaLink.open();
    })();
  </script>
</body>
```

### Whitelist Orgs

By default, Versa Link will offer all available integrations to the user. If you would like to limit the integrations that are offered, you can do so by passing an optional `whitelistOrgs` array to the `initialize` method. Reach out to the Versa team if you would like help identifying the org ids of the integrations you would like to offer.

### Language

> [!CAUTION]
> Localization is a Beta feature. See a bad translation? Let us know at support@versa.org.

Link currently supports the following languages:

| Code | Language   |
| ---- | ---------- |
| `en` | English    |
| `da` | Danish     |
| `de` | German     |
| `es` | Spanish    |
| `et` | Estonian   |
| `fr` | French     |
| `hi` | Hindi      |
| `it` | Italian    |
| `lt` | Lithuanian |
| `lv` | Latvian    |
| `nl` | Dutch      |
| `no` | Norwegian  |
| `pl` | Polish     |
| `pt` | Portuguese |
| `ro` | Romanian   |
| `sv` | Swedish    |
| `vi` | Vietnamese |
